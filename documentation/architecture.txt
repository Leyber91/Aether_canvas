<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1800" width="1600" height="1800">
    <!-- Background -->
    <defs>
        <!-- Grid patterns -->
        <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#f5f5f5" stroke-width="0.5"/>
        </pattern>
        <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
            <rect width="100" height="100" fill="url(#smallGrid)"/>
            <path d="M 100 0 L 0 0 0 100" fill="none" stroke="#e8e8e8" stroke-width="1"/>
        </pattern>
        
        <!-- Gradients -->
        <linearGradient id="frontendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#e3f2fd"/>
            <stop offset="100%" stop-color="#bbdefb"/>
        </linearGradient>
        
        <linearGradient id="backendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#e8f5e9"/>
            <stop offset="100%" stop-color="#c8e6c9"/>
        </linearGradient>
        
        <linearGradient id="databaseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#fff3e0"/>
            <stop offset="100%" stop-color="#ffe0b2"/>
        </linearGradient>
        
        <linearGradient id="integrationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#e1f5fe"/>
            <stop offset="100%" stop-color="#b3e5fc"/>
        </linearGradient>

        <linearGradient id="sharedGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#f3e5f5"/>
            <stop offset="100%" stop-color="#e1bee7"/>
        </linearGradient>
        
        <!-- Filters -->
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#0003"/>
        </filter>
        
        <filter id="heavy-shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="3" dy="3" stdDeviation="4" flood-color="#0004"/>
        </filter>

        <!-- Flow markers -->
        <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2"/>
        </marker>
        <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#388e3c"/>
        </marker>
        <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#f57c00"/>
        </marker>
        <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#7b1fa2"/>
        </marker>
        <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#d32f2f"/>
        </marker>
        <marker id="arrowhead-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
        </marker>
    </defs>

    <rect width="1600" height="1800" fill="url(#grid)"/>
    
    <!-- Main Title -->
    <text x="800" y="50" text-anchor="middle" font-family="Arial" font-size="36" font-weight="bold" fill="#333" filter="url(#heavy-shadow)">AI Canvas Architecture: Next Generation</text>
    <text x="800" y="85" text-anchor="middle" font-family="Arial" font-size="20" fill="#555" font-style="italic">Scalable, Extensible Graph-Based Workflow System</text>

    <!-- SHARED INFRASTRUCTURE SECTION -->
    <rect x="120" y="120" width="1360" height="210" rx="10" ry="10" fill="url(#sharedGradient)" stroke="#9c27b0" stroke-width="2" filter="url(#shadow)"/>
    <text x="800" y="150" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#6a1b9a">Shared Infrastructure</text>

    <!-- Communication Bridge -->
    <rect x="150" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1"/>
    <text x="345" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Communication Bridge</text>
    
    <rect x="170" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="250" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Event Bus</text>
    <text x="250" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">event_bus.js / event_bus.py</text>
    <text x="250" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Publish/Subscribe Pattern</text>
    <text x="250" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Cross-Component Events</text>
    
    <rect x="360" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="440" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">WebSocket Manager</text>
    <text x="440" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">websocket_manager.js/py</text>
    <text x="440" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Real-time Communication</text>
    <text x="440" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Stream Handling</text>

    <!-- Configuration & Constants -->
    <rect x="580" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1"/>
    <text x="775" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Configuration & Constants</text>
    
    <rect x="600" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="680" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">App Configuration</text>
    <text x="680" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">config.js / config.py</text>
    <text x="680" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Environment Detection</text>
    <text x="680" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Feature Flags</text>
    
    <rect x="790" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="870" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">System Constants</text>
    <text x="870" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">constants.js / constants.py</text>
    <text x="870" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Shared Enumerations</text>
    <text x="870" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Type Definitions</text>

    <!-- Utilities -->
    <rect x="1010" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1"/>
    <text x="1205" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Shared Utilities</text>
    
    <rect x="1030" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="1110" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Error Handling</text>
    <text x="1110" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">error_utils.js / errors.py</text>
    <text x="1110" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Error Classification</text>
    <text x="1110" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Standardized Messages</text>
    
    <rect x="1220" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1"/>
    <text x="1300" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Common Utilities</text>
    <text x="1300" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">utils.js / utils.py</text>
    <text x="1300" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Data Transformations</text>
    <text x="1300" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Validation Helpers</text>

    <!-- FRONTEND SECTION -->
    <rect x="120" y="360" width="650" height="800" rx="10" ry="10" fill="url(#frontendGradient)" stroke="#1976d2" stroke-width="2" filter="url(#shadow)"/>
    <text x="445" y="390" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#1565c0">Frontend Architecture</text>

    <!-- Core Frontend Infrastructure -->
    <rect x="140" y="410" width="610" height="270" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1"/>
    <text x="445" y="430" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Core Infrastructure</text>

    <!-- State Management -->
    <rect x="160" y="450" width="280" height="210" rx="5" ry="5" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="300" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">State Management</text>
    
    <rect x="175" y="485" width="250" height="65" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="300" y="505" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Redux Store</text>
    <text x="300" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">store.js, reducers/, actions/</text>
    <text x="300" y="540" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Single Source of Truth</text>
    
    <rect x="175" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="235" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Slices</text>
    <text x="235" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• graphSlice.js</text>
    <text x="235" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• workflowSlice.js</text>
    <text x="235" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• chatSlice.js</text>
    
    <rect x="305" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="365" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Selectors</text>
    <text x="365" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• graphSelectors.js</text>
    <text x="365" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• workflowSelectors.js</text>
    <text x="365" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• chatSelectors.js</text>

    <!-- API Client -->
    <rect x="450" y="450" width="280" height="210" rx="5" ry="5" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="590" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">API Client</text>
    
    <rect x="465" y="485" width="250" height="65" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="590" y="505" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">HTTP Client</text>
    <text x="590" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">api_client.js</text>
    <text x="590" y="540" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Axios with Interceptors</text>
    
    <rect x="465" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="525" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">API Services</text>
    <text x="525" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• graphApi.js</text>
    <text x="525" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• workflowApi.js</text>
    <text x="525" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• chatApi.js</text>
    
    <rect x="595" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="655" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Handlers</text>
    <text x="655" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Error Handling</text>
    <text x="655" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Request Retry</text>
    <text x="655" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Rate Limiting</text>

    <!-- Graph Editor Module -->
    <rect x="140" y="690" width="295" height="450" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="710" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Graph Editor Module</text>

    <!-- Graph Visualization -->
    <rect x="155" y="730" width="265" height="130" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="750" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Graph Visualization</text>
    
    <rect x="170" y="770" width="235" height="75" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="790" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">CytoscapeManager</text>
    <text x="287" y="810" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">cytoscape_manager.js</text>
    <text x="287" y="825" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Abstraction over Cytoscape.js</text>

    <!-- Graph Interaction -->
    <rect x="155" y="870" width="265" height="250" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="890" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Graph Interaction</text>
    
    <rect x="170" y="910" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="930" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">NodeManager</text>
    <text x="287" y="945" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Creation, Editing, Deletion</text>
    
    <rect x="170" y="970" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="287" y="990" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">EdgeManager</text>
    <text x="287" y="1005" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Connection Types & Validation</text>
    
    <rect x="170" y="1030" width="110" height="70" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="225" y="1050" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">LayoutManager</text>
    <text x="225" y="1065" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Auto Layout</text>
    <text x="225" y="1080" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Position Memory</text>
    
    <rect x="295" y="1030" width="110" height="70" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="350" y="1050" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">GraphHistory</text>
    <text x="350" y="1065" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Undo/Redo</text>
    <text x="350" y="1080" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Change Tracking</text>

    <!-- Workflow & Chat Modules -->
    <rect x="455" y="690" width="295" height="450" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1"/>
    <text x="602" y="710" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Workflow & Chat Modules</text>

    <!-- Workflow Module -->
    <rect x="470" y="730" width="265" height="180" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="602" y="750" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Workflow Module</text>
    
    <rect x="485" y="770" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="602" y="790" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ExecutionController</text>
    <text x="602" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Execution Control & Monitoring</text>
    
    <rect x="485" y="830" width="110" height="60" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="540" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ResultView</text>
    <text x="540" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Live Results</text>
    <text x="540" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Visualization</text>
    
    <rect x="610" y="830" width="110" height="60" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="665" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ExecutionHistory</text>
    <text x="665" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Run History</text>
    <text x="665" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Comparison</text>

    <!-- Chat Module -->
    <rect x="470" y="920" width="265" height="200" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="602" y="940" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Chat Module</text>
    
    <rect x="485" y="960" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="602" y="980" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ConversationManager</text>
    <text x="602" y="995" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Conversation Context & History</text>
    
    <rect x="485" y="1020" width="110" height="80" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="540" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">MessageView</text>
    <text x="540" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Message Rendering</text>
    <text x="540" y="1070" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Markdown Support</text>
    <text x="540" y="1085" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Code Highlighting</text>
    
    <rect x="610" y="1020" width="110" height="80" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1"/>
    <text x="665" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">StreamHandler</text>
    <text x="665" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Stream Processing</text>
    <text x="665" y="1070" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Partial Updates</text>
    <text x="665" y="1085" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Error Recovery</text>

    <!-- UI Component Library -->
    <rect x="140" y="1150" width="610" height="120" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1"/>
    <text x="445" y="1170" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">UI Component Library</text>
    
    <rect x="160" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="225" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Base Components</text>
    <text x="225" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/ui/</text>
    
    <rect x="300" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="365" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Graph Components</text>
    <text x="365" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/graph/</text>
    
    <rect x="440" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="505" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Workflow Components</text>
    <text x="505" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/workflow/</text>
    
    <rect x="580" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1"/>
    <text x="645" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Chat Components</text>
    <text x="645" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/chat/</text>
    
    <!-- BACKEND SECTION -->
    <rect x="830" y="360" width="650" height="800" rx="10" ry="10" fill="url(#backendGradient)" stroke="#388e3c" stroke-width="2" filter="url(#shadow)"/>
    <text x="1155" y="390" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#2e7d32">Backend Architecture</text>

    <!-- API Layer -->
    <rect x="850" y="410" width="610" height="170" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
    <text x="1155" y="430" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">API Layer</text>
    
    <!-- REST API -->
    <rect x="870" y="450" width="280" height="110" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">REST API</text>
    
    <rect x="885" y="490" width="250" height="55" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="510" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">API Router</text>
    <text x="1010" y="530" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">blueprints/{graph,workflow,chat}</text>
    
    <!-- WebSocket API -->
    <rect x="1160" y="450" width="280" height="110" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">WebSocket API</text>
    
    <rect x="1175" y="490" width="250" height="55" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="510" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">WebSocket Server</text>
    <text x="1300" y="530" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">websocket_server.py</text>

    <!-- Service Layer -->
    <rect x="850" y="590" width="610" height="340" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
    <text x="1155" y="610" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Service Layer</text>
    
    <!-- Graph Services -->
    <rect x="870" y="630" width="280" height="280" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="650" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Graph Services</text>
    
    <rect x="885" y="670" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="690" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphService</text>
    <text x="1010" y="708" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">graph_service.py</text>
    <text x="1010" y="723" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Facade Pattern for Graph Operations</text>
    
    <rect x="885" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="945" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphCRUDService</text>
    <text x="945" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Create</text>
    <text x="945" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Read</text>
    <text x="945" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Update/Delete</text>
    
    <rect x="1015" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1075" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphAnalysisService</text>
    <text x="1075" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Topological Sort</text>
    <text x="1075" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Path Analysis</text>
    <text x="1075" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Cycle Detection</text>
    
    <rect x="885" y="830" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphTemplateService</text>
    <text x="1010" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Template Management</text>
    <text x="1010" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Import/Export Functionality</text>

    <!-- Workflow & AI Services -->
    <rect x="1160" y="630" width="280" height="280" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="650" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Workflow & AI Services</text>
    
    <rect x="1175" y="670" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="690" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ExecutionService</text>
    <text x="1300" y="708" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">execution_service.py</text>
    <text x="1300" y="723" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Workflow Orchestration & Execution</text>
    
    <rect x="1175" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1235" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">OllamaService</text>
    <text x="1235" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Local AI Models</text>
    <text x="1235" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Stream Processing</text>
    <text x="1235" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Context Management</text>
    
    <rect x="1305" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1365" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GroqService</text>
    <text x="1365" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Cloud AI Models</text>
    <text x="1365" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Rate Limiting</text>
    <text x="1365" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Error Handling</text>
    
    <rect x="1175" y="830" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ConversationService</text>
    <text x="1300" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Message Context Management</text>
    <text x="1300" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• History & Storage</text>

    <!-- Data Access Layer -->
    <rect x="850" y="940" width="610" height="200" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
    <text x="1155" y="960" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Data Access Layer</text>
    
    <!-- Repository Pattern -->
    <rect x="870" y="980" width="280" height="140" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="1000" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Repository Pattern</text>
    
    <rect x="885" y="1020" width="250" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1010" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphRepository</text>
    <text x="1010" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">repositories/graph_repository.py</text>
    
    <rect x="885" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="945" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">NodeRepository</text>
    
    <rect x="1015" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1075" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">EdgeRepository</text>
    
    <!-- Model Mappers -->
    <rect x="1160" y="980" width="280" height="140" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="1000" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">ORM & Caching</text>
    
    <rect x="1175" y="1020" width="250" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1300" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">SQLAlchemyManager</text>
    <text x="1300" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">db/sqlalchemy_manager.py</text>
    
    <rect x="1175" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1235" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ModelMappers</text>
    
    <rect x="1305" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1"/>
    <text x="1365" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">RedisCache</text>

    <!-- Infrastructure Layer -->
    <rect x="850" y="1150" width="610" height="130" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1"/>
    <text x="1155" y="1170" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Infrastructure</text>
    
    <rect x="870" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="940" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Logging</text>
    <text x="940" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">logger.py</text>
    <text x="940" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Structured Logging</text>
    
    <rect x="1030" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1100" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Metrics</text>
    <text x="1100" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">metrics.py</text>
    <text x="1100" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Performance Tracking</text>
    
    <rect x="1190" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1260" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Task Queue</text>
    <text x="1260" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">task_queue.py</text>
    <text x="1260" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Background Tasks</text>
    
    <rect x="1350" y="1190" width="90" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1"/>
    <text x="1395" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Security</text>
    <text x="1395" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">security.py</text>
    <text x="1395" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• API Keys</text>

    <!-- DATABASE SECTION -->
    <rect x="120" y="1320" width="1360" height="300" rx="10" ry="10" fill="url(#databaseGradient)" stroke="#ff8f00" stroke-width="2" filter="url(#shadow)"/>
    <text x="800" y="1350" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#ef6c00">Database & Storage</text>
    
    <!-- Domain Models -->
    <rect x="140" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="355" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Domain Models</text>
    
    <rect x="160" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="255" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Graph Models</text>
    
    <rect x="175" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="255" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Graph</text>
    <text x="255" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, name, description, layout_data</text>
    
    <rect x="175" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="212" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Node</text>
    <text x="212" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, graph_id</text>
    <text x="212" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">properties</text>
    
    <rect x="260" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="297" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Edge</text>
    <text x="297" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, source_id</text>
    <text x="297" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">target_id, type</text>
    
    <rect x="360" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="455" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Conversation Models</text>
    
    <rect x="375" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="455" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Conversation</text>
    <text x="455" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, node_id, metadata</text>
    
    <rect x="375" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="412" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Message</text>
    <text x="412" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, conv_id</text>
    <text x="412" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">role, content</text>
    
    <rect x="460" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="497" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Context</text>
    <text x="497" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, conv_id</text>
    <text x="497" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">source_type</text>

    <!-- Execution Models -->
    <rect x="585" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="800" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Execution & Storage</text>
    
    <rect x="605" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="700" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Execution Models</text>
    
    <rect x="620" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="700" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Execution</text>
    <text x="700" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, graph_id, status, timestamps</text>
    
    <rect x="620" y="1510" width="160" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="700" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">ExecutionResult</text>
    <text x="700" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, execution_id, node_id</text>
    <text x="700" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">result, error, timestamps</text>
    
    <rect x="805" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="900" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Storage Services</text>
    
    <rect x="820" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="900" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">File Storage</text>
    <text x="900" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Templates, Export/Import</text>
    
    <rect x="820" y="1510" width="160" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="900" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Cache Layer</text>
    <text x="900" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Redis for SSE, Real-time Events</text>
    <text x="900" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Query Caching, Session Data</text>

    <!-- Database Infrastructure -->
    <rect x="1030" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="1245" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Database Infrastructure</text>
    
    <rect x="1050" y="1420" width="180" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="1140" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">PostgreSQL</text>
    
    <rect x="1065" y="1460" width="150" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="1140" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Core Database</text>
    <text x="1140" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Relational Data Storage</text>
    
    <rect x="1065" y="1510" width="150" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="1140" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">SQLAlchemy ORM</text>
    <text x="1140" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Object-Relational Mapping</text>
    <text x="1140" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Migrations (Alembic)</text>
    
    <rect x="1260" y="1420" width="180" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1"/>
    <text x="1350" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Redis</text>
    
    <rect x="1275" y="1460" width="150" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="1350" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Caching</text>
    <text x="1350" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">High-Speed Data Caching</text>
    
    <rect x="1275" y="1510" width="150" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1"/>
    <text x="1350" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Pub/Sub</text>
    <text x="1350" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Real-time Event Distribution</text>
    <text x="1350" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">WebSocket Backing</text>

    <!-- EXTERNAL INTEGRATIONS -->
    <rect x="120" y="1640" width="1360" height="140" rx="10" ry="10" fill="url(#integrationGradient)" stroke="#0288d1" stroke-width="2" filter="url(#shadow)"/>
    <text x="800" y="1670" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#0277bd">External Integrations</text>
    
    <rect x="140" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1"/>
    <text x="290" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Ollama API</text>
    <text x="290" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Local LLM Service Integration</text>
    <text x="290" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Supports Multiple Models: Llama, Mistral, etc.</text>
    
    <rect x="465" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1"/>
    <text x="615" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Groq API</text>
    <text x="615" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Cloud-based LLM Service</text>
    <text x="615" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• High-speed Inference with Rate Limiting</text>
    
    <rect x="790" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1"/>
    <text x="940" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Plugin Architecture</text>
    <text x="940" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Extensible Node Types & Behaviors</text>
    <text x="940" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• Custom Processing Nodes, Data Transformations</text>
    
    <rect x="1115" y="1690" width="345" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1"/>
    <text x="1287" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">External API Support</text>
    <text x="1287" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Adapter Pattern for Third-party Integration</text>
    <text x="1287" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">• API Key Management, Error Handling, Rate Limiting</text>

    <!-- DATA FLOWS -->
    
    <!-- Graph Creation Flow -->
    <path d="M 280 1000 C 280 1300, 600 1650, 800 1500 C 1000 1350, 1400 1000, 1000 700" fill="none" stroke="#1976d2" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)"/>
    <text x="500" y="1500" font-family="Arial" font-size="18" font-weight="bold" fill="#1976d2">Graph Creation/Editing Flow</text>
    
    <!-- Workflow Execution Flow -->
    <path d="M 550 850 C 550 1200, 700 1420, 900 1400 C 1100 1380, 1300 1050, 1300 800" fill="none" stroke="#673ab7" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)"/>
    <text x="1000" y="1250" font-family="Arial" font-size="18" font-weight="bold" fill="#673ab7">Workflow Execution Flow</text>
    
    <!-- AI Interaction Flow -->
    <path d="M 450 1060 C 450 1300, 300 1600, 600 1670 C 900 1740, 1200 1450, 1365 800" fill="none" stroke="#0288d1" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)"/>
    <text x="650" y="1580" font-family="Arial" font-size="18" font-weight="bold" fill="#0288d1">AI Interaction Flow</text>
    
    <!-- State Synchronization Flow -->
    <path d="M 350 300 C 400 280, 600 260, 800 260 C 1000 260, 1200 280, 1250 300" fill="none" stroke="#9c27b0" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)"/>
    <text x="800" y="230" font-family="Arial" font-size="18" font-weight="bold" fill="#9c27b0">State Synchronization Flow</text>
    
    <!-- Database Access Flow -->
    <path d="M 1010 1100 C 1010 1200, 1010 1300, 1010 1400" fill="none" stroke="#ff8f00" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-orange)"/>
    <text x="900" y="1140" font-family="Arial" font-size="18" font-weight="bold" fill="#ff8f00">Data Access Flow</text>

    <!-- LEGEND -->
    <rect x="120" y="300" width="80" height="20" rx="3" ry="3" fill="#1976d2" stroke="none" stroke-width="1" opacity="0.7"/>
    <text x="160" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Frontend</text>
    
    <rect x="120" y="330" width="80" height="20" rx="3" ry="3" fill="#388e3c" stroke="none" stroke-width="1" opacity="0.7"/>
    <text x="160" y="345" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Backend</text>
    
    <rect x="210" y="300" width="80" height="20" rx="3" ry="3" fill="#ff8f00" stroke="none" stroke-width="1" opacity="0.7"/>
    <text x="250" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Database</text>
    
    <rect x="210" y="330" width="80" height="20" rx="3" ry="3" fill="#0288d1" stroke="none" stroke-width="1" opacity="0.7"/>
    <text x="250" y="345" text-anchor="middle" font-family="Arial" font-size="12" fill="white">External</text>
    
    <rect x="300" y="300" width="80" height="20" rx="3" ry="3" fill="#9c27b0" stroke="none" stroke-width="1" opacity="0.7"/>
    <text x="340" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Shared</text>
</svg>