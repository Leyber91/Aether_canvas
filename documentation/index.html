<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Canvas System Architecture</title>
    <style>
        :root {
            --primary-blue: #1976d2;
            --primary-green: #388e3c;
            --primary-purple: #7b1fa2;
            --primary-orange: #ff8f00;
            --light-blue: #e3f2fd;
            --light-green: #e8f5e9;
            --light-purple: #f3e5f5;
            --light-orange: #fff3e0;
            --text-dark: #333;
            --text-light: #666;
            --background: #f5f5f5;
            --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: var(--background);
            padding: 0;
            margin: 0;
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(135deg, #42a5f5, #1976d2);
            color: white;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .intro {
            max-width: 1200px;
            margin: 0 auto 2rem;
            text-align: center;
        }

        .intro h2 {
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .intro p {
            color: var(--text-light);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .architecture-viewer {
            position: relative;
            width: 100%;
            overflow: auto;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            background: white;
            margin-bottom: 2rem;
        }

        .phase-navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .phase-button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }

        .phase-1 {
            background-color: var(--light-blue);
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .phase-2 {
            background-color: var(--light-green);
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .phase-3 {
            background-color: var(--light-purple);
            color: var(--primary-purple);
            border: 2px solid var(--primary-purple);
        }

        .phase-4 {
            background-color: var(--light-orange);
            color: var(--primary-orange);
            border: 2px solid var(--primary-orange);
        }

        .phase-button:hover {
            filter: brightness(0.9);
            transform: translateY(-2px);
        }

        .phase-button.active {
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .component-info {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 100;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            display: none;
        }

        .component-info h3 {
            color: var(--primary-blue);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .component-info p {
            margin-bottom: 1rem;
        }

        .component-info .close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .component-info .close-button:hover {
            color: var(--text-dark);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 99;
            display: none;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 1rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        /* SVG interactive styles */
        svg {
            width: 100%;
            height: auto;
        }

        g[class$="-section"] rect,
        rect[class$="-section"] {
            transition: opacity 0.3s ease;
        }

        rect[rx="3"][ry="3"] {
            cursor: pointer;
            transition: transform 0.2s ease, filter 0.2s ease;
        }

        rect[rx="3"][ry="3"]:hover {
            transform: scale(1.02);
            filter: brightness(1.05);
        }

        .highlight-phase1 .frontend-section,
        .highlight-phase1 .backend-section,
        .highlight-phase1 .database-section,
        .highlight-phase1 .integration-section,
        .highlight-phase1 .deployment-section {
            opacity: 0.3;
        }

        .highlight-phase1 [fill="url(#frontendGradient)"],
        .highlight-phase1 [fill="url(#sharedGradient)"],
        .highlight-phase1 [fill="url(#databaseGradient)"] {
            opacity: 1;
        }

        .highlighted {
            filter: brightness(1.1);
            transform: scale(1.02);
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .phase-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }

        /* File structure section */
        .file-structure {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-bottom: 2rem;
        }

        .file-structure h2 {
            color: var(--primary-blue);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .file-tree {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
        }

        .file-section {
            flex: 1;
            min-width: 280px;
        }

        .file-section h3 {
            color: var(--primary-purple);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-purple);
        }

        .file-item {
            margin-bottom: 0.25rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .file-item:before {
            content: "üìÑ";
            position: absolute;
            left: 0;
            top: 0;
        }

        .folder {
            margin-bottom: 0.5rem;
        }

        .folder > .file-item:before {
            content: "üìÅ";
        }

        .file-description {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-left: 1.5rem;
        }

        /* Development Phases Section */
        .development-phases {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-bottom: 2rem;
        }

        .development-phases h2 {
            color: var(--primary-blue);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .phase-card {
            background: var(--light-blue);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-left: 5px solid var(--primary-blue);
        }

        .phase-card h3 {
            color: var(--primary-blue);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .phase-card ul {
            padding-left: 1.5rem;
        }

        .phase-card li {
            margin-bottom: 0.5rem;
        }

        .phase-card.phase-2 {
            background: var(--light-green);
            border-left-color: var(--primary-green);
        }

        .phase-card.phase-2 h3 {
            color: var(--primary-green);
        }

        .phase-card.phase-3 {
            background: var(--light-purple);
            border-left-color: var(--primary-purple);
        }

        .phase-card.phase-3 h3 {
            color: var(--primary-purple);
        }

        .phase-card.phase-4 {
            background: var(--light-orange);
            border-left-color: var(--primary-orange);
        }

        .phase-card.phase-4 h3 {
            color: var(--primary-orange);
        }

        .phase-card.phase-5 {
            background: #ffebee;
            border-left-color: #c62828;
        }

        .phase-card.phase-5 h3 {
            color: #c62828;
        }

        .phase-card.phase-6 {
            background: #e1f5fe;
            border-left-color: #0288d1;
        }

        .phase-card.phase-6 h3 {
            color: #0288d1;
        }

        /* Zoom controls */
        .zoom-controls {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            z-index: 10;
        }

        .zoom-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .zoom-button:hover {
            background: #f5f5f5;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <header>
        <h1>AI Canvas System Architecture</h1>
    </header>

    <div class="container">
        <div class="intro">
            <h2>Comprehensive Architecture &amp; Development Roadmap</h2>
            <p>
                AI Canvas is a sophisticated graph-based workflow orchestration system designed to leverage 
                both local and cloud-based AI models for complex tasks. The following architecture diagram 
                illustrates the system's components and their relationships.
            </p>
        </div>

        <div class="phase-navigation">
            <button class="phase-button phase-1" data-phase="1">Phase 1: Foundation</button>
            <button class="phase-button phase-2" data-phase="2">Phase 2: Core Services</button>
            <button class="phase-button phase-3" data-phase="3">Phase 3: API & Integration</button>
            <button class="phase-button phase-4" data-phase="4">Phase 4: Frontend</button>
            <button class="phase-button phase-5" data-phase="5">Phase 5: Frontend Functional</button>
            <button class="phase-button phase-6" data-phase="6">Phase 6: Advanced Features</button>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #1976d2;"></div>
                <span>Frontend</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #388e3c;"></div>
                <span>Backend</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #9c27b0;"></div>
                <span>Shared</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #ff8f00;"></div>
                <span>Database</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #0288d1;"></div>
                <span>External</span>
            </div>
        </div>

        <div class="architecture-viewer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1800" width="1600" height="1800">
                <!-- Background -->
                <defs>
                    <!-- Grid patterns -->
                    <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
                        <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#f5f5f5" stroke-width="0.5"/>
                    </pattern>
                    <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
                        <rect width="100" height="100" fill="url(#smallGrid)"/>
                        <path d="M 100 0 L 0 0 0 100" fill="none" stroke="#e8e8e8" stroke-width="1"/>
                    </pattern>
                    
                    <!-- Gradients -->
                    <linearGradient id="frontendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#e3f2fd"/>
                        <stop offset="100%" stop-color="#bbdefb"/>
                    </linearGradient>
                    
                    <linearGradient id="backendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#e8f5e9"/>
                        <stop offset="100%" stop-color="#c8e6c9"/>
                    </linearGradient>
                    
                    <linearGradient id="databaseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fff3e0"/>
                        <stop offset="100%" stop-color="#ffe0b2"/>
                    </linearGradient>
                    
                    <linearGradient id="integrationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#e1f5fe"/>
                        <stop offset="100%" stop-color="#b3e5fc"/>
                    </linearGradient>
            
                    <linearGradient id="sharedGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f3e5f5"/>
                        <stop offset="100%" stop-color="#e1bee7"/>
                    </linearGradient>
                    
                    <!-- Filters -->
                    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#0003"/>
                    </filter>
                    
                    <filter id="heavy-shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="3" dy="3" stdDeviation="4" flood-color="#0004"/>
                    </filter>
            
                    <!-- Flow markers -->
                    <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2"/>
                    </marker>
                    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#388e3c"/>
                    </marker>
                    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#f57c00"/>
                    </marker>
                    <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#7b1fa2"/>
                    </marker>
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#d32f2f"/>
                    </marker>
                    <marker id="arrowhead-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
                    </marker>
                </defs>
            
                <rect width="1600" height="1800" fill="url(#grid)"/>
                
                <!-- Main Title -->
                <text x="800" y="50" text-anchor="middle" font-family="Arial" font-size="36" font-weight="bold" fill="#333" filter="url(#heavy-shadow)">AI Canvas Architecture: Next Generation</text>
                <text x="800" y="85" text-anchor="middle" font-family="Arial" font-size="20" fill="#555" font-style="italic">Scalable, Extensible Graph-Based Workflow System</text>
            
                <!-- SHARED INFRASTRUCTURE SECTION -->
                <rect x="120" y="120" width="1360" height="210" rx="10" ry="10" fill="url(#sharedGradient)" stroke="#9c27b0" stroke-width="2" filter="url(#shadow)" class="phase-1"/>
                <text x="800" y="150" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#6a1b9a">Shared Infrastructure</text>
            
                <!-- Communication Bridge -->
                <rect x="150" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" class="phase-1"/>
                <text x="345" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Communication Bridge</text>
                
                <rect x="170" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="event-bus"/>
                <text x="250" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Event Bus</text>
                <text x="250" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">event_bus.js / event_bus.py</text>
                <text x="250" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Publish/Subscribe Pattern</text>
                <text x="250" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Cross-Component Events</text>
                
                <rect x="360" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="websocket-manager"/>
                <text x="440" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">WebSocket Manager</text>
                <text x="440" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">websocket_manager.js/py</text>
                <text x="440" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Real-time Communication</text>
                <text x="440" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Stream Handling</text>
            
                <!-- Configuration & Constants -->
                <rect x="580" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" class="phase-1"/>
                <text x="775" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Configuration & Constants</text>
                
                <rect x="600" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="app-configuration"/>
                <text x="680" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">App Configuration</text>
                <text x="680" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">config.js / config.py</text>
                <text x="680" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Environment Detection</text>
                <text x="680" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Feature Flags</text>
                
                <rect x="790" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="system-constants"/>
                <text x="870" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">System Constants</text>
                <text x="870" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">constants.js / constants.py</text>
                <text x="870" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Shared Enumerations</text>
                <text x="870" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Type Definitions</text>
            
                <!-- Utilities -->
                <rect x="1010" y="170" width="390" height="140" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" class="phase-1"/>
                <text x="1205" y="190" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#6a1b9a">Shared Utilities</text>
                
                <rect x="1030" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="error-handling"/>
                <text x="1110" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Error Handling</text>
                <text x="1110" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">error_utils.js / errors.py</text>
                <text x="1110" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Error Classification</text>
                <text x="1110" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Standardized Messages</text>
                
                <rect x="1220" y="200" width="160" height="95" rx="3" ry="3" fill="#d1c4e9" stroke="#673ab7" stroke-width="1" class="phase-1 component" data-component="common-utilities"/>
                <text x="1300" y="220" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#4527a0">Common Utilities</text>
                <text x="1300" y="240" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">utils.js / utils.py</text>
                <text x="1300" y="260" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Data Transformations</text>
                <text x="1300" y="280" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Validation Helpers</text>
            
                <!-- FRONTEND SECTION -->
                <rect x="120" y="360" width="650" height="800" rx="10" ry="10" fill="url(#frontendGradient)" stroke="#1976d2" stroke-width="2" filter="url(#shadow)" class="phase-4"/>
                <text x="445" y="390" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#1565c0">Frontend Architecture</text>
            
                <!-- Core Frontend Infrastructure -->
                <rect x="140" y="410" width="610" height="270" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1" class="phase-4"/>
                <text x="445" y="430" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Core Infrastructure</text>
            
                <!-- State Management -->
                <rect x="160" y="450" width="280" height="210" rx="5" ry="5" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-4"/>
                <text x="300" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">State Management</text>
                
                <rect x="175" y="485" width="250" height="65" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="redux-store"/>
                <text x="300" y="505" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Redux Store</text>
                <text x="300" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">store.js, reducers/, actions/</text>
                <text x="300" y="540" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Single Source of Truth</text>
                
                <rect x="175" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="redux-slices"/>
                <text x="235" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Slices</text>
                <text x="235" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ graphSlice.js</text>
                <text x="235" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ workflowSlice.js</text>
                <text x="235" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ chatSlice.js</text>
                
                <rect x="305" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="redux-selectors"/>
                <text x="365" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Selectors</text>
                <text x="365" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ graphSelectors.js</text>
                <text x="365" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ workflowSelectors.js</text>
                <text x="365" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ chatSelectors.js</text>
            
                <!-- API Client -->
                <rect x="450" y="450" width="280" height="210" rx="5" ry="5" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-4"/>
                <text x="590" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">API Client</text>
                
                <rect x="465" y="485" width="250" height="65" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="http-client"/>
                <text x="590" y="505" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">HTTP Client</text>
                <text x="590" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">api_client.js</text>
                <text x="590" y="540" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Axios with Interceptors</text>
                
                <rect x="465" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="api-services"/>
                <text x="525" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">API Services</text>
                <text x="525" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ graphApi.js</text>
                <text x="525" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ workflowApi.js</text>
                <text x="525" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ chatApi.js</text>
                
                <rect x="595" y="560" width="120" height="85" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="api-handlers"/>
                <text x="655" y="580" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">Handlers</text>
                <text x="655" y="600" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Error Handling</text>
                <text x="655" y="615" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Request Retry</text>
                <text x="655" y="630" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Rate Limiting</text>
            
                <!-- Graph Editor Module -->
                <rect x="140" y="690" width="295" height="450" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="287" y="710" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Graph Editor Module</text>
            
                <!-- Graph Visualization -->
                <rect x="155" y="730" width="265" height="130" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="287" y="750" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Graph Visualization</text>
                
                <rect x="170" y="770" width="235" height="75" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="cytoscape-manager"/>
                <text x="287" y="790" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">CytoscapeManager</text>
                <text x="287" y="810" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">cytoscape_manager.js</text>
                <text x="287" y="825" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Abstraction over Cytoscape.js</text>
            
                <!-- Graph Interaction -->
                <rect x="155" y="870" width="265" height="250" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="287" y="890" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Graph Interaction</text>
                
                <rect x="170" y="910" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="node-manager"/>
                <text x="287" y="930" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">NodeManager</text>
                <text x="287" y="945" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Creation, Editing, Deletion</text>
                
                <rect x="170" y="970" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="edge-manager"/>
                <text x="287" y="990" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">EdgeManager</text>
                <text x="287" y="1005" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Connection Types & Validation</text>
                
                <rect x="170" y="1030" width="110" height="70" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-6 component" data-component="layout-manager"/>
                <text x="225" y="1050" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">LayoutManager</text>
                <text x="225" y="1065" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Auto Layout</text>
                <text x="225" y="1080" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Position Memory</text>
                
                <rect x="295" y="1030" width="110" height="70" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-6 component" data-component="graph-history"/>
                <text x="350" y="1050" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">GraphHistory</text>
                <text x="350" y="1065" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Undo/Redo</text>
                <text x="350" y="1080" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Change Tracking</text>
            
                <!-- Workflow & Chat Modules -->
                <rect x="455" y="690" width="295" height="450" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="602" y="710" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">Workflow & Chat Modules</text>
            
                <!-- Workflow Module -->
                <rect x="470" y="730" width="265" height="180" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="602" y="750" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Workflow Module</text>
                
                <rect x="485" y="770" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="execution-controller"/>
                <text x="602" y="790" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ExecutionController</text>
                <text x="602" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Execution Control & Monitoring</text>
                
                <rect x="485" y="830" width="110" height="60" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-6 component" data-component="result-view"/>
                <text x="540" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ResultView</text>
                <text x="540" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Live Results</text>
                <text x="540" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Visualization</text>
                
                <rect x="610" y="830" width="110" height="60" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-6 component" data-component="execution-history"/>
                <text x="665" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ExecutionHistory</text>
                <text x="665" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Run History</text>
                <text x="665" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Comparison</text>
            
                <!-- Chat Module -->
                <rect x="470" y="920" width="265" height="200" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5"/>
                <text x="602" y="940" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0d47a1">Chat Module</text>
                
                <rect x="485" y="960" width="235" height="50" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="conversation-manager"/>
                <text x="602" y="980" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">ConversationManager</text>
                <text x="602" y="995" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Conversation Context & History</text>
                
                <rect x="485" y="1020" width="110" height="80" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="message-view"/>
                <text x="540" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">MessageView</text>
                <text x="540" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Message Rendering</text>
                <text x="540" y="1070" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Markdown Support</text>
                <text x="540" y="1085" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Code Highlighting</text>
                
                <rect x="610" y="1020" width="110" height="80" rx="3" ry="3" fill="#64b5f6" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="stream-handler"/>
                <text x="665" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#0d47a1">StreamHandler</text>
                <text x="665" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Stream Processing</text>
                <text x="665" y="1070" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Partial Updates</text>
                <text x="665" y="1085" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Error Recovery</text>
            
                <!-- UI Component Library -->
                <rect x="140" y="1150" width="610" height="120" rx="5" ry="5" fill="#bbdefb" stroke="#1976d2" stroke-width="1" class="phase-4"/>
                <text x="445" y="1170" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0d47a1">UI Component Library</text>
                
                <rect x="160" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-4 component" data-component="base-components"/>
                <text x="225" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Base Components</text>
                <text x="225" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/ui/</text>
                
                <rect x="300" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="graph-components"/>
                <text x="365" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Graph Components</text>
                <text x="365" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/graph/</text>
                
                <rect x="440" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="workflow-components"/>
                <text x="505" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Workflow Components</text>
                <text x="505" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/workflow/</text>
                
                <rect x="580" y="1190" width="130" height="60" rx="3" ry="3" fill="#90caf9" stroke="#1976d2" stroke-width="1" class="phase-5 component" data-component="chat-components"/>
                <text x="645" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#0d47a1">Chat Components</text>
                <text x="645" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">components/chat/</text>
                
                <!-- BACKEND SECTION -->
                <rect x="830" y="360" width="650" height="800" rx="10" ry="10" fill="url(#backendGradient)" stroke="#388e3c" stroke-width="2" filter="url(#shadow)" class="phase-2"/>
                <text x="1155" y="390" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#2e7d32">Backend Architecture</text>
            
                <!-- API Layer -->
                <rect x="850" y="410" width="610" height="170" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" class="phase-3"/>
                <text x="1155" y="430" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">API Layer</text>
                
                <!-- REST API -->
                <rect x="870" y="450" width="280" height="110" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-3"/>
                <text x="1010" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">REST API</text>
                
                <rect x="885" y="490" width="250" height="55" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-3 component" data-component="api-router"/>
                <text x="1010" y="510" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">API Router</text>
                <text x="1010" y="530" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">blueprints/{graph,workflow,chat}</text>
                
                <!-- WebSocket API -->
                <rect x="1160" y="450" width="280" height="110" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-3"/>
                <text x="1300" y="470" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">WebSocket API</text>
                
                <rect x="1175" y="490" width="250" height="55" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-3 component" data-component="websocket-server"/>
                <text x="1300" y="510" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">WebSocket Server</text>
                <text x="1300" y="530" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">websocket_server.py</text>
            
                <!-- Service Layer -->
                <rect x="850" y="590" width="610" height="340" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1155" y="610" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Service Layer</text>
                
                <!-- Graph Services -->
                <rect x="870" y="630" width="280" height="280" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1010" y="650" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Graph Services</text>
                
                <rect x="885" y="670" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="graph-service"/>
                <text x="1010" y="690" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphService</text>
                <text x="1010" y="708" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">graph_service.py</text>
                <text x="1010" y="723" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Facade Pattern for Graph Operations</text>
                
                <rect x="885" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="graph-crud-service"/>
                <text x="945" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphCRUDService</text>
                <text x="945" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Create</text>
                <text x="945" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Read</text>
                <text x="945" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Update/Delete</text>
                
                <rect x="1015" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="graph-analysis-service"/>
                <text x="1075" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphAnalysisService</text>
                <text x="1075" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Topological Sort</text>
                <text x="1075" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Path Analysis</text>
                <text x="1075" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Cycle Detection</text>
                
                <rect x="885" y="830" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-6 component" data-component="graph-template-service"/>
                <text x="1010" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphTemplateService</text>
                <text x="1010" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Template Management</text>
                <text x="1010" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Import/Export Functionality</text>
            
                <!-- Workflow & AI Services -->
                <rect x="1160" y="630" width="280" height="280" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-3"/>
                <text x="1300" y="650" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Workflow & AI Services</text>
                
                <rect x="1175" y="670" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-6 component" data-component="execution-service"/>
                <text x="1300" y="690" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ExecutionService</text>
                <text x="1300" y="708" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">execution_service.py</text>
                <text x="1300" y="723" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Workflow Orchestration & Execution</text>
                
                <rect x="1175" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-3 component" data-component="ollama-service"/>
                <text x="1235" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">OllamaService</text>
                <text x="1235" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Local AI Models</text>
                <text x="1235" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Stream Processing</text>
                <text x="1235" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Context Management</text>
                
                <rect x="1305" y="740" width="120" height="80" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-3 component" data-component="groq-service"/>
                <text x="1365" y="760" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GroqService</text>
                <text x="1365" y="775" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Cloud AI Models</text>
                <text x="1365" y="790" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Rate Limiting</text>
                <text x="1365" y="805" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Error Handling</text>
                
                <rect x="1175" y="830" width="250" height="60" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="conversation-service"/>
                <text x="1300" y="850" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ConversationService</text>
                <text x="1300" y="865" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Message Context Management</text>
                <text x="1300" y="880" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ History & Storage</text>
            
                <!-- Data Access Layer -->
                <rect x="850" y="940" width="610" height="200" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1155" y="960" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Data Access Layer</text>
                
                <!-- Repository Pattern -->
                <rect x="870" y="980" width="280" height="140" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1010" y="1000" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">Repository Pattern</text>
                
                <rect x="885" y="1020" width="250" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="graph-repository"/>
                <text x="1010" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">GraphRepository</text>
                <text x="1010" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">repositories/graph_repository.py</text>
                
                <rect x="885" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="node-repository"/>
                <text x="945" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">NodeRepository</text>
                
                <rect x="1015" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="edge-repository"/>
                <text x="1075" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">EdgeRepository</text>
                
                <!-- Model Mappers -->
                <rect x="1160" y="980" width="280" height="140" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1300" y="1000" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1b5e20">ORM & Caching</text>
                
                <rect x="1175" y="1020" width="250" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-1 component" data-component="sqlalchemy-manager"/>
                <text x="1300" y="1040" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">SQLAlchemyManager</text>
                <text x="1300" y="1055" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">db/sqlalchemy_manager.py</text>
                
                <rect x="1175" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="model-mappers"/>
                <text x="1235" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">ModelMappers</text>
                
                <rect x="1305" y="1070" width="120" height="40" rx="3" ry="3" fill="#81c784" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="redis-cache"/>
                <text x="1365" y="1090" text-anchor="middle" font-family="Arial" font-size="14" fill="#1b5e20">RedisCache</text>
            
                <!-- Infrastructure Layer -->
                <rect x="850" y="1150" width="610" height="130" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" class="phase-2"/>
                <text x="1155" y="1170" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1b5e20">Infrastructure</text>
                
                <rect x="870" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="logger"/>
                <text x="940" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Logging</text>
                <text x="940" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">logger.py</text>
                <text x="940" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Structured Logging</text>
                
                <rect x="1030" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="metrics"/>
                <text x="1100" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Metrics</text>
                <text x="1100" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">metrics.py</text>
                <text x="1100" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Performance Tracking</text>
                
                <rect x="1190" y="1190" width="140" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-6 component" data-component="task-queue"/>
                <text x="1260" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Task Queue</text>
                <text x="1260" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">task_queue.py</text>
                <text x="1260" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Background Tasks</text>
                
                <rect x="1350" y="1190" width="90" height="70" rx="3" ry="3" fill="#a5d6a7" stroke="#388e3c" stroke-width="1" class="phase-2 component" data-component="security"/>
                <text x="1395" y="1210" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1b5e20">Security</text>
                <text x="1395" y="1230" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">security.py</text>
                <text x="1395" y="1245" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ API Keys</text>
            
                <!-- DATABASE SECTION -->
                <rect x="120" y="1320" width="1360" height="300" rx="10" ry="10" fill="url(#databaseGradient)" stroke="#ff8f00" stroke-width="2" filter="url(#shadow)" class="phase-1"/>
                <text x="800" y="1350" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#ef6c00">Database & Storage</text>
                
                <!-- Domain Models -->
                <rect x="140" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="355" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Domain Models</text>
                
                <rect x="160" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="255" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Graph Models</text>
                
                <rect x="175" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="graph-model"/>
                <text x="255" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Graph</text>
                <text x="255" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, name, description, layout_data</text>
                
                <rect x="175" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="node-model"/>
                <text x="212" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Node</text>
                <text x="212" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, graph_id</text>
                <text x="212" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">properties</text>
                
                <rect x="260" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="edge-model"/>
                <text x="297" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Edge</text>
                <text x="297" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, source_id</text>
                <text x="297" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">target_id, type</text>
                
                <rect x="360" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="455" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Conversation Models</text>
                
                <rect x="375" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="conversation-model"/>
                <text x="455" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Conversation</text>
                <text x="455" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, node_id, metadata</text>
                
                <rect x="375" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="message-model"/>
                <text x="412" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Message</text>
                <text x="412" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, conv_id</text>
                <text x="412" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">role, content</text>
                
                <rect x="460" y="1510" width="75" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="context-model"/>
                <text x="497" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Context</text>
                <text x="497" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, conv_id</text>
                <text x="497" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">source_type</text>
            
                <!-- Execution Models -->
                <rect x="585" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="800" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Execution & Storage</text>
                
                <rect x="605" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="700" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Execution Models</text>
                
                <rect x="620" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="execution-model"/>
                <text x="700" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Execution</text>
                <text x="700" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, graph_id, status, timestamps</text>
                
                <rect x="620" y="1510" width="160" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="execution-result-model"/>
                <text x="700" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">ExecutionResult</text>
                <text x="700" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">id, execution_id, node_id</text>
                <text x="700" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">result, error, timestamps</text>
                
                <rect x="805" y="1420" width="190" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-2"/>
                <text x="900" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Storage Services</text>
                
                <rect x="820" y="1460" width="160" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-6 component" data-component="file-storage"/>
                <text x="900" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">File Storage</text>
                <text x="900" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Templates, Export/Import</text>
                
                <rect x="820" y="1510" width="160" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-2 component" data-component="cache-layer"/>
                <text x="900" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Cache Layer</text>
                <text x="900" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Redis for SSE, Real-time Events</text>
                <text x="900" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Query Caching, Session Data</text>
            
                <!-- Database Infrastructure -->
                <rect x="1030" y="1380" width="430" height="220" rx="5" ry="5" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="1245" y="1400" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ef6c00">Database Infrastructure</text>
                
                <rect x="1050" y="1420" width="180" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-1"/>
                <text x="1140" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">PostgreSQL</text>
                
                <rect x="1065" y="1460" width="150" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="postgres-db"/>
                <text x="1140" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Core Database</text>
                <text x="1140" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Relational Data Storage</text>
                
                <rect x="1065" y="1510" width="150" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-1 component" data-component="sqlalchemy-orm"/>
                <text x="1140" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">SQLAlchemy ORM</text>
                <text x="1140" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Object-Relational Mapping</text>
                <text x="1140" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Migrations (Alembic)</text>
                
                <rect x="1260" y="1420" width="180" height="160" rx="3" ry="3" fill="#ffcc80" stroke="#ff8f00" stroke-width="1" class="phase-2"/>
                <text x="1350" y="1440" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ef6c00">Redis</text>
                
                <rect x="1275" y="1460" width="150" height="40" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-2 component" data-component="redis-caching"/>
                <text x="1350" y="1480" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Caching</text>
                <text x="1350" y="1495" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">High-Speed Data Caching</text>
                
                <rect x="1275" y="1510" width="150" height="55" rx="3" ry="3" fill="#ffe0b2" stroke="#ff8f00" stroke-width="1" class="phase-2 component" data-component="redis-pubsub"/>
                <text x="1350" y="1530" text-anchor="middle" font-family="Arial" font-size="14" fill="#ef6c00">Pub/Sub</text>
                <text x="1350" y="1545" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">Real-time Event Distribution</text>
                <text x="1350" y="1560" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">WebSocket Backing</text>
            
                <!-- EXTERNAL INTEGRATIONS -->
                <rect x="120" y="1640" width="1360" height="140" rx="10" ry="10" fill="url(#integrationGradient)" stroke="#0288d1" stroke-width="2" filter="url(#shadow)" class="phase-3"/>
                <text x="800" y="1670" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#0277bd">External Integrations</text>
                
                <rect x="140" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1" class="phase-3 component" data-component="ollama-api"/>
                <text x="290" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Ollama API</text>
                <text x="290" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Local LLM Service Integration</text>
                <text x="290" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Supports Multiple Models: Llama, Mistral, etc.</text>
                
                <rect x="465" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1" class="phase-3 component" data-component="groq-api"/>
                <text x="615" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Groq API</text>
                <text x="615" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Cloud-based LLM Service</text>
                <text x="615" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ High-speed Inference with Rate Limiting</text>
                
                <rect x="790" y="1690" width="300" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1" class="phase-6 component" data-component="plugin-architecture"/>
                <text x="940" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">Plugin Architecture</text>
                <text x="940" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Extensible Node Types & Behaviors</text>
                <text x="940" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ Custom Processing Nodes, Data Transformations</text>
                
                <rect x="1115" y="1690" width="345" height="70" rx="5" ry="5" fill="#b3e5fc" stroke="#0288d1" stroke-width="1" class="phase-3 component" data-component="external-api-support"/>
                <text x="1287" y="1710" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#0277bd">External API Support</text>
                <text x="1287" y="1730" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Adapter Pattern for Third-party Integration</text>
                <text x="1287" y="1745" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">‚Ä¢ API Key Management, Error Handling, Rate Limiting</text>
            
                <!-- DATA FLOWS -->
                
                <!-- Graph Creation Flow -->
                <path d="M 280 1000 C 280 1300, 600 1650, 800 1500 C 1000 1350, 1400 1000, 1000 700" fill="none" stroke="#1976d2" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)" class="data-flow graph-flow"/>
                <text x="500" y="1500" font-family="Arial" font-size="18" font-weight="bold" fill="#1976d2" class="data-flow-label graph-flow-label">Graph Creation/Editing Flow</text>
                
                <!-- Workflow Execution Flow -->
                <path d="M 550 850 C 550 1200, 700 1420, 900 1400 C 1100 1380, 1300 1050, 1300 800" fill="none" stroke="#673ab7" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)" class="data-flow workflow-flow"/>
                <text x="1000" y="1250" font-family="Arial" font-size="18" font-weight="bold" fill="#673ab7" class="data-flow-label workflow-flow-label">Workflow Execution Flow</text>
                
                <!-- AI Interaction Flow -->
                <path d="M 450 1060 C 450 1300, 300 1600, 600 1670 C 900 1740, 1200 1450, 1365 800" fill="none" stroke="#0288d1" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-blue)" class="data-flow ai-flow"/>
                <text x="650" y="1580" font-family="Arial" font-size="18" font-weight="bold" fill="#0288d1" class="data-flow-label ai-flow-label">AI Interaction Flow</text>
                
                <!-- State Synchronization Flow -->
                <path d="M 350 300 C 400 280, 600 260, 800 260 C 1000 260, 1200 280, 1250 300" fill="none" stroke="#9c27b0" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-purple)" class="data-flow sync-flow"/>
                <text x="800" y="230" font-family="Arial" font-size="18" font-weight="bold" fill="#9c27b0" class="data-flow-label sync-flow-label">State Synchronization Flow</text>
                
                <!-- Database Access Flow -->
                <path d="M 1010 1100 C 1010 1200, 1010 1300, 1010 1400" fill="none" stroke="#ff8f00" stroke-width="3" stroke-opacity="0.7" stroke-dasharray="8,4" marker-end="url(#arrowhead-orange)" class="data-flow db-flow"/>
                <text x="900" y="1140" font-family="Arial" font-size="18" font-weight="bold" fill="#ff8f00" class="data-flow-label db-flow-label">Data Access Flow</text>
            
                <!-- LEGEND -->
                <rect x="120" y="300" width="80" height="20" rx="3" ry="3" fill="#1976d2" stroke="none" stroke-width="1" opacity="0.7"/>
                <text x="160" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Frontend</text>
                
                <rect x="120" y="330" width="80" height="20" rx="3" ry="3" fill="#388e3c" stroke="none" stroke-width="1" opacity="0.7"/>
                <text x="160" y="345" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Backend</text>
                
                <rect x="210" y="300" width="80" height="20" rx="3" ry="3" fill="#ff8f00" stroke="none" stroke-width="1" opacity="0.7"/>
                <text x="250" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Database</text>
                
                <rect x="210" y="330" width="80" height="20" rx="3" ry="3" fill="#0288d1" stroke="none" stroke-width="1" opacity="0.7"/>
                <text x="250" y="345" text-anchor="middle" font-family="Arial" font-size="12" fill="white">External</text>
                
                <rect x="300" y="300" width="80" height="20" rx="3" ry="3" fill="#9c27b0" stroke="none" stroke-width="1" opacity="0.7"/>
                <text x="340" y="315" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Shared</text>
            </svg>
        </div>

        <div class="development-phases">
            <h2>Development Phases</h2>
            
            <div class="phase-card phase-1">
                <h3><span class="phase-number">1</span> Foundation Layer</h3>
                <ul>
                    <li><strong>Shared Infrastructure</strong>: Event Bus, WebSocket Manager, Configuration, Constants, Utilities</li>
                    <li><strong>Database Models</strong>: Graph, Node, Edge, Conversation, Message, Context, Execution, ExecutionResult</li>
                    <li><strong>Database Setup</strong>: SQLAlchemy Manager, ORM Configuration, PostgreSQL Setup</li>
                </ul>
            </div>
            
            <div class="phase-card phase-2">
                <h3><span class="phase-number">2</span> Core Services Layer</h3>
                <ul>
                    <li><strong>Data Access Layer</strong>: Repositories for all database models, Model Mappers, Redis Cache</li>
                    <li><strong>Basic Service Implementations</strong>: Graph CRUD Service, Graph Analysis Service, Conversation Service</li>
                    <li><strong>Infrastructure Services</strong>: Logging, Security,

                        Metrics</li>
                    </ul>
                </div>
                
                <div class="phase-card phase-3">
                    <h3><span class="phase-number">3</span> API & Integration Layer</h3>
                    <ul>
                        <li><strong>REST API</strong>: Graph Routes, Workflow Routes, Chat Routes</li>
                        <li><strong>WebSocket Server</strong>: Real-time communication, client connections</li>
                        <li><strong>AI Service Integrations</strong>: Ollama Client, Groq Client</li>
                        <li><strong>External API Support</strong>: API Adapter, API Key Management</li>
                    </ul>
                </div>
                
                <div class="phase-card phase-4">
                    <h3><span class="phase-number">4</span> Frontend Foundation</h3>
                    <ul>
                        <li><strong>State Management</strong>: Redux Store, Slices (Graph, Workflow, Chat), Selectors</li>
                        <li><strong>API Client</strong>: HTTP Client, API Services, Error Handlers</li>
                        <li><strong>UI Component Library</strong>: Base Components, Layout Components</li>
                    </ul>
                </div>
                
                <div class="phase-card phase-5">
                    <h3><span class="phase-number">5</span> Frontend Functional Modules</h3>
                    <ul>
                        <li><strong>Graph Editor</strong>: Cytoscape Manager, Node Manager, Edge Manager</li>
                        <li><strong>Workflow Module</strong>: Execution Controller, Node Execution</li>
                        <li><strong>Chat Module</strong>: Conversation Manager, Message View, Stream Handler</li>
                        <li><strong>Specialized Components</strong>: Graph, Workflow, and Chat UI components</li>
                    </ul>
                </div>
                
                <div class="phase-card phase-6">
                    <h3><span class="phase-number">6</span> Advanced Features</h3>
                    <ul>
                        <li><strong>Graph Template Service</strong>: Template Management, Import/Export</li>
                        <li><strong>Task Queue</strong>: Background Processing, Long-running Jobs</li>
                        <li><strong>Plugin Architecture</strong>: Custom Node Types, Extensibility</li>
                        <li><strong>Advanced Graph Features</strong>: Layout Manager, Graph History (Undo/Redo)</li>
                        <li><strong>Result Visualization</strong>: Result View, Execution History, Reporting</li>
                    </ul>
                </div>
            </div>
    
            <div class="file-structure">
                <h2>Key File Structure</h2>
                
                <div class="file-tree">
                    <div class="file-section">
                        <h3>Shared Infrastructure</h3>
                        <div class="folder">
                            <div class="file-item">shared/</div>
                            <div class="file-item">event_bus.js</div>
                            <div class="file-description">Frontend event pub/sub system</div>
                            <div class="file-item">event_bus.py</div>
                            <div class="file-description">Backend event pub/sub system</div>
                            <div class="file-item">websocket_manager.js</div>
                            <div class="file-description">Frontend websocket client</div>
                            <div class="file-item">websocket_manager.py</div>
                            <div class="file-description">Backend websocket handler</div>
                            <div class="file-item">config.js / config.py</div>
                            <div class="file-description">Configuration management</div>
                            <div class="file-item">constants.js / constants.py</div>
                            <div class="file-description">Shared constants and enums</div>
                            <div class="file-item">utils.js / utils.py</div>
                            <div class="file-description">Common utility functions</div>
                        </div>
                    </div>
                    
                    <div class="file-section">
                        <h3>Backend Structure</h3>
                        <div class="folder">
                            <div class="file-item">backend/</div>
                            <div class="file-item">models/</div>
                            <div class="file-description">Database models (Graph, Node, Edge, etc.)</div>
                            <div class="file-item">api/blueprints/</div>
                            <div class="file-description">API routes and endpoints</div>
                            <div class="file-item">services/</div>
                            <div class="file-description">Service layer implementations</div>
                            <div class="file-item">repositories/</div>
                            <div class="file-description">Data access layer</div>
                            <div class="file-item">db/</div>
                            <div class="file-description">Database connection and ORM</div>
                            <div class="file-item">cache/</div>
                            <div class="file-description">Redis caching implementation</div>
                            <div class="file-item">infrastructure/</div>
                            <div class="file-description">Logging, security, metrics</div>
                            <div class="file-item">integrations/</div>
                            <div class="file-description">External API clients</div>
                        </div>
                    </div>
                    
                    <div class="file-section">
                        <h3>Frontend Structure</h3>
                        <div class="folder">
                            <div class="file-item">frontend/</div>
                            <div class="file-item">store/</div>
                            <div class="file-description">Redux store, slices, selectors</div>
                            <div class="file-item">api/</div>
                            <div class="file-description">API clients and services</div>
                            <div class="file-item">components/</div>
                            <div class="file-description">UI components (ui/, graph/, workflow/, chat/)</div>
                            <div class="file-item">graph/</div>
                            <div class="file-description">Graph editor functionality</div>
                            <div class="file-item">workflow/</div>
                            <div class="file-description">Workflow execution functionality</div>
                            <div class="file-item">chat/</div>
                            <div class="file-description">Chat and messaging functionality</div>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="component-info" id="component-info">
                <button class="close-button" id="close-info">√ó</button>
                <h3 id="component-title">Component Title</h3>
                <p id="component-description">Component description will appear here.</p>
                <p id="component-responsibility">Responsibilities will appear here.</p>
                <p id="component-phase">Development phase: <span id="phase-info"></span></p>
            </div>
            
            <div class="overlay" id="overlay"></div>
            
            <div class="zoom-controls">
                <button class="zoom-button" id="zoom-in">+</button>
                <button class="zoom-button" id="zoom-reset">‚ü≥</button>
                <button class="zoom-button" id="zoom-out">‚àí</button>
            </div>
        </div>
    
        <script>
            // Component information mapping
            const componentInfo = {
                "event-bus": {
                    title: "Event Bus",
                    description: "A publish/subscribe pattern implementation that allows components to communicate without direct coupling.",
                    responsibility: "Handles event registration, publishing, and notification across the system. Implements topic-based messaging to enable loose coupling between components.",
                    phase: 1
                },
                "websocket-manager": {
                    title: "WebSocket Manager",
                    description: "Manages real-time communication between frontend and backend.",
                    responsibility: "Establishes and maintains WebSocket connections, handles message routing, and provides stream handling for real-time updates.",
                    phase: 1
                },
                "app-configuration": {
                    title: "Application Configuration",
                    description: "Manages environment-specific configuration settings.",
                    responsibility: "Provides configuration values based on the current environment. Implements feature flags and configuration access patterns.",
                    phase: 1
                },
                "system-constants": {
                    title: "System Constants",
                    description: "Defines system-wide constants and enumerations.",
                    responsibility: "Centralizes constant values, enumerations, and type definitions used throughout the application.",
                    phase: 1
                },
                "error-handling": {
                    title: "Error Handling",
                    description: "Standardized error handling utilities.",
                    responsibility: "Creates consistent error objects, classifies errors, and provides formatted error messages for the entire application.",
                    phase: 1
                },
                "redux-store": {
                    title: "Redux Store",
                    description: "Central state management for the frontend application.",
                    responsibility: "Configures and initializes the Redux store with middleware and provides a single source of truth for application state.",
                    phase: 4
                },
                "redux-slices": {
                    title: "Redux Slices",
                    description: "Feature-based state management modules.",
                    responsibility: "Defines state structure, reducers, and actions for specific domains like graphs, workflows, and chat.",
                    phase: 4
                },
                "graph-model": {
                    title: "Graph Model",
                    description: "Database model representing a workflow graph.",
                    responsibility: "Defines the structure and relationships for graphs in the database. Includes fields for metadata, layout, and references to contained nodes.",
                    phase: 1
                },
                "node-model": {
                    title: "Node Model",
                    description: "Database model representing a graph node.",
                    responsibility: "Defines the structure for nodes within a graph, including position, properties, and type information.",
                    phase: 1
                },
                "cytoscape-manager": {
                    title: "Cytoscape Manager",
                    description: "Manages the integration with Cytoscape.js graph visualization library.",
                    responsibility: "Abstracts Cytoscape API, handles graph rendering, layout application, and provides a consistent interface for graph manipulation.",
                    phase: 5
                }
            };
    
            // DOM elements
            const phaseButtons = document.querySelectorAll('.phase-button');
            const components = document.querySelectorAll('.component');
            const componentInfoEl = document.getElementById('component-info');
            const componentTitle = document.getElementById('component-title');
            const componentDescription = document.getElementById('component-description');
            const componentResponsibility = document.getElementById('component-responsibility');
            const phaseInfo = document.getElementById('phase-info');
            const overlay = document.getElementById('overlay');
            const closeInfoButton = document.getElementById('close-info');
            const zoomInButton = document.getElementById('zoom-in');
            const zoomOutButton = document.getElementById('zoom-out');
            const zoomResetButton = document.getElementById('zoom-reset');
            const architectureViewer = document.querySelector('.architecture-viewer');
    
            // Zoom functionality
            let currentZoom = 1;
            
            zoomInButton.addEventListener('click', () => {
                currentZoom += 0.1;
                updateZoom();
            });
            
            zoomOutButton.addEventListener('click', () => {
                currentZoom = Math.max(0.5, currentZoom - 0.1);
                updateZoom();
            });
            
            zoomResetButton.addEventListener('click', () => {
                currentZoom = 1;
                updateZoom();
            });
            
            function updateZoom() {
                const svgElement = architectureViewer.querySelector('svg');
                svgElement.style.transform = `scale(${currentZoom})`;
                svgElement.style.transformOrigin = 'top left';
            }
    
            // Phase highlighting
            phaseButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const phase = button.dataset.phase;
                    
                    // Remove active class from all buttons
                    phaseButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    // Remove all phase highlight classes
                    architectureViewer.classList.remove('highlight-phase1', 'highlight-phase2', 'highlight-phase3', 'highlight-phase4', 'highlight-phase5', 'highlight-phase6');
                    
                    // Add appropriate highlight class if a phase was selected
                    if (phase) {
                        architectureViewer.classList.add(`highlight-phase${phase}`);
                        
                        // Highlight components for this phase
                        components.forEach(component => {
                            if (component.classList.contains(`phase-${phase}`)) {
                                component.classList.add('highlighted');
                            } else {
                                component.classList.remove('highlighted');
                            }
                        });
                    } else {
                        // Remove all component highlights
                        components.forEach(component => {
                            component.classList.remove('highlighted');
                        });
                    }
                });
            });
    
            // Component information display
            components.forEach(component => {
                component.addEventListener('click', () => {
                    const componentId = component.dataset.component;
                    const info = componentInfo[componentId] || {
                        title: componentId.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' '),
                        description: "Component information not available.",
                        responsibility: "Responsibility information not available.",
                        phase: "Unknown"
                    };
                    
                    componentTitle.textContent = info.title;
                    componentDescription.textContent = info.description;
                    componentResponsibility.textContent = info.responsibility;
                    
                    const phaseMapping = {
                        1: "Foundation Layer",
                        2: "Core Services Layer",
                        3: "API & Integration Layer",
                        4: "Frontend Foundation",
                        5: "Frontend Functional Modules",
                        6: "Advanced Features"
                    };
                    
                    phaseInfo.textContent = `${info.phase} - ${phaseMapping[info.phase] || ""}`;
                    
                    // Show component info
                    componentInfoEl.style.display = 'block';
                    overlay.style.display = 'block';
                });
            });
    
            // Close component info
            closeInfoButton.addEventListener('click', () => {
                componentInfoEl.style.display = 'none';
                overlay.style.display = 'none';
            });
            
            overlay.addEventListener('click', () => {
                componentInfoEl.style.display = 'none';
                overlay.style.display = 'none';
            });
        </script>
    </body>
    </html>